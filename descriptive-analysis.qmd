---
title: "descriptive-analysis"
format: pdf
editor: visual
---

## Introduction

This document presents the descriptive results from the analysis of 4 different tools (`sciscore`, `trialidentifier`, `ctregistries` and `nct`). The aim of these tools is to screen papers for one or more registration IDs (protocol, trial registry, etc).

Overall, 200 IDs found in 117 papers were analyzed.

#### Main analyses:

1.  Types of ID detected

2.  Where were the IDs located (abstract section, methods section, etc.)?

3.  Were the papers research articles?

4.  When did the tools agree/disagree? (i.e. they all found the ID = agree).

5.  Did the tools find an actual ID?

6.  Additional observations

## 1) Types of ID detected

```{r echo = FALSE, message = FALSE, warning = FALSE}

install.packages("readr")
install.packages("dplyr")
install.packages("ggplot2")
install.packages("here")

library(readr)
library(dplyr)
library(ggplot2)
library(here)
```

```{r message = FALSE, warning = FALSE}

#load dataset
data <- read_csv(here("testing", "regset.csv"))

#general overview
table(data$id_type_group)
```

The three main groups of ID observed were `trial registration numbers (trn)`, `protocols`, and `false positives`.

### TRNs

```{r message = FALSE, warning = FALSE}

trn <- subset(data, data$id_type %in% c("ctgov", "umin", "drks", "irct", "chictr", "isrctn","ctri", "eudract", "actrn", "jrct", "kct", "ntr", "pactr"))

table(trn$id_type)
```

The majority of the trial registry numbers were from the ctgov registry, followed by umin, dkrs and irct.

![](images/Picture%203.png){width="516"}

**note on the names**:

-   ctgov - US Clinical Trials Register

-   umin - University Hospital Medical Information Network Register

-   drks - German Clinical Trials Register

-   irct - Iranian Registry of Cinical Trials

-   chictr - Chinese Clinical Trial Registry

-   isrctn - ISRCTN Registry

-   ctri - Clinical Trials Registry-India

-   eudract - EU Clinical Trials Register

-   actrn - Australian New Zealand Clinical Trial Registry

-   jrct - Japan Registry of Clinical Trials

-   kct - Korean Clinical Trial Registry

-   ntr - Dutch Trial Register

-   pactr - Pan African Clinical Trials Registry

### Protocols

```{r message = FALSE, warning = FALSE}

protocol <- subset(data, data$id_type %in% c("protocols_io"))

table(protocol$id_type)
```

We only had two IDs that were included in links to specific protocols from protocols.io

![](images/Picture%201.png)

### False positives

```{r message = FALSE, warning = FALSE}

false_positive <- subset(data, data$id_type %in% c("catalogue_id", "datapoint", "drug_id", "funding_id", "medical_acronym", "medical_device"))

table(false_positive$id_type)
```

The main types of false positives we encounter were IDs corresponding to specific fundings or grants.

![](images/Picture%202.png)

## 2) Where were the IDs located?

```{r message = FALSE, warning = FALSE}
#id in abstract
table(data$id_in_abstract)
```

```{r message = FALSE, warning = FALSE}
#id in methods
table(data$id_in_methods)
```

```{r message = FALSE, warning = FALSE}
#id in other location
table(data$id_in_other_location)
```

![](images/4.png)

**What were the other locations?** - introduction, discussion, ethic statement, acknowledgements, etc.

```{r message = FALSE, warning = FALSE}
table(data$other_location)
```

**Note**: the IDs analyzed could be in one or more locations, that is why there are more cases (250) out of a total of 200 IDs.

## 3) Were the papers research articles?

```{r message = FALSE, warning = FALSE}
table(data$paper_is_research_article)
```

Here we evaluated if the papers had the structure of a research article (abstract, introduction, methods, results, discussion, etc.). Overall, the majority of the papers were research articles.

It is important to note that 33 of the False cases came from the same paper, that reviewed studies and identified them using their ctgov trial registry number.

## 4) When did the tools agree/disagree?

## 5) Did the tools find an actual ID?

## 6) Additional observations

### TRN from the study itself or as a reference to other studies

Some papers analyzed use specifically the ctgov trial registry number as a way to cite other studies in their introduction or discussion. Around 71 of the ctgov trn's were used as references. In this case, the tools correctly identify a trial ID number, but is this what we want to find? or are we interested in finding if authors put in their papers their own registry ID?

### Funding IDs from China

Sometimes they were detected as IDs, but not in all cases. What were the differences?

### TRN with missing digits

There were two cases of ctgov IDs reported with one digit less, but the tools were still able to identify them.
